<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boat on Animated Wave</title>
    <link rel="stylesheet" href="waves-style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link 
        href="https://fonts.googleapis.com/css2?family=Bellefair&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap" 
        rel="stylesheet" 
    \>
</head>
<body>
    <div class="background"></div>
    <div class="wave-container">
        <svg
            class="wave-back-svg" 
            viewBox="0 0 1440 320" 
            preserveAspectRatio="none"
        >
            <path 
                id="waveBackPath" 
                fill="#054D6A" 
                d="M0,160 C360,240 1080,80 1440,160 L1440,320 L0,320 Z" 
            />
        </svg>
        <img src="assets/boat2.svg" alt="Boat" class="boat" />
        <svg 
            class="wave-front-svg" 
            viewBox="0 0 1440 320" 
            preserveAspectRatio="none"
        >
            <path
                id="waveFrontPath" 
                fill="#0B5775" 
                d="M0,160 C360,240 1080,80 1440,160 L1440,320 L0,320 Z"
            />
        </svg>
    </div>

    <div class="save-the-date-container">
        <p class="announcement-subtext">SAVE THE DATE</p>
        <div class="announcement-text">KAYLEIGH</div>
        <div class="announcement-ampersand">&</div>
        <div class="announcement-text">LUKE</div>
        <div class="announcement-subtext">ARE GETTING MARRIED!</div>
        <div class="date-container">
            <div class="date-subcontainer">
                <div class="bordered-date">SAT</div>
                <div class="date-day">20</div>
                <div class="bordered-date">JUNE</div>
            </div>
            <div class="date-year">2026</div>
        </div>
        <div class="location">BRISTOL, UK</div>
        <div class="details-container">
            <div class="details-1">Formal invitation to follow</div>
            <div class="details-2">
                We hope you're able to celebrate with us, but if you already
                know you're unavailable, please let Kayleigh or Luke know
            </div>
        </div>
    </div>

    <script>
        const backWave = document.getElementById('waveBackPath');
        const frontWave = document.getElementById('waveFrontPath');
        const boat = document.querySelector('.boat');

        const params = {
            svgWidth: 1440,
            svgHeight: 320,
            stepSize: 10,
            boat: {
                xFreq: 0.115 / window.innerWidth,
                xMax: 10,
                yMax: 2.5,
                rFreq: 0.001,
                rMax: 0.6,
            },
            back: {
                wFreq: 0.003,
                wMax: 10,
                wHeight: 190,
            },
            front: {
                wFreq: 0.005,
                wMax: 14,
                wHeight: 110,
            },
        };

        function oscillate(time) {

            let dB = `M0,${params.back.wHeight}`;
            let dF = `M0,${params.front.wHeight}`;

            for (let i = 0; i <= params.svgWidth; i += params.stepSize) {
                let yB = Math.sin((i + time) * params.back.wFreq);
                let yF = Math.sin((i + time) * params.front.wFreq);
                yB *= params.back.wMax;
                yB += params.back.wHeight;
                dB += `L${i},${yB}`;
                yF *= params.front.wMax;
                yF += params.front.wHeight;
                dF += `L${i},${yF}`;
            };

            dB += ` L${params.svgWidth},${params.svgHeight}`;
            dB += ` L0,${params.svgHeight} Z`;
            dF += ` L${params.svgWidth},${params.svgHeight}`;
            dF += ` L0,${params.svgHeight} Z`;

            backWave.setAttribute('d', dB);
            frontWave.setAttribute('d', dF);

            const boatX = params.boat.xMax * Math.sin(time * params.boat.xFreq);
            const boatR = params.boat.rMax * Math.sin(time * params.boat.rFreq);


            let boatY = Math.sin((2 * params.svgWidth + time) * params.back.wFreq);
            boatY *= params.boat.yMax;


            boat.style.transform = `
                translateX(calc(-50% + ${boatX}vw))
                translateY(${boatY}px)
                rotate(${boatR}deg
            `;
            requestAnimationFrame(oscillate);
        }

        requestAnimationFrame(oscillate);

        function spawnBird() {
            const bird = document.createElementNS("http://www.w3.org/2000/svg", "svg");
            bird.setAttribute("class", "bird");
            bird.setAttribute("width", "30");
            bird.setAttribute("height", "30");
            bird.innerHTML = `<use href="#bird" />`;

            bird.style.position = "absolute";
            bird.style.top = `${Math.random() * 60 + 10}%`; // upper 80% of screen
            bird.style.left = "-50px";
            bird.style.transform = `scale(${Math.random() * 0.5 + 0.5})`;

            document.body.appendChild(bird);

            const duration = Math.random() * 10 + 10; // 10â€“20s
            bird.animate(
                [
                { transform: bird.style.transform + " translateX(0)" },
                { transform: bird.style.transform + " translateX(110vw)" }
                ],
                {
                duration: duration * 1000,
                easing: "linear",
                fill: "forwards"
                }
            );

            setTimeout(() => bird.remove(), duration * 1000);
        }

        setInterval(spawnBird, 5000); // One bird every 5s


    </script>




  <!-- <script>
    const element = document.querySelector('.animate');
    const vw = window.innerWidth;

    const duration = Math.pow(vw, 2) * 0.2;


    const backPath = document.getElementById('waveBackPath');
    const frontPath = document.getElementById('waveFrontPath');
    const boat = document.querySelector('.boat');

    boat.style.setProperty('--animation-duration', `${duration}ms`);


    let t = 0;

    function animateBackWave() {
        t += 0.01;
        const amplitude = 8;
        const waveLength = Math.max(0.06 * window.innerWidth, 360);
        let d = "M0,160 ";
        const width = 1440;

        for (let x = 0; x <= width; x += 6) {
            const y = 180 + Math.sin((x / waveLength) + t) * amplitude;
            d += `L${x},${y} `;
        }

        d += `L1440,320 L0,320 Z`;
        backPath.setAttribute("d", d);

        // Move boat vertically to match wave at center X
        const boatX = window.innerWidth / 2;
        const relativeX = boatX * (1440 / window.innerWidth); // scale to SVG width

        const boatY = 140 + Math.sin((relativeX / waveLength) + t) * amplitude;

        const svgViewBoxHeight = 320; // from <svg viewBox="0 0 1440 320">
        const container = document.querySelector('.wave-container');
        const containerHeight = container.offsetHeight;

        const scaledY = (boatY / svgViewBoxHeight) * containerHeight;
        const boatHeight = boat.offsetHeight;

        const newBottom = containerHeight - scaledY - (boatHeight / 2);
        boat.style.bottom = `${newBottom}px`;

        requestAnimationFrame(animateBackWave);
    }

    function animateFrontWave() {
        t += 0.01;
        const amplitude = 20;
        const waveLength = 0.2 * window.innerWidth;
        let d = "M0,160 ";
        const width = 1440;
        const offset = 60;

        for (let x = 0; x <= width; x += 6) {
            let y = 184 + Math.sin((x / waveLength) + t + offset) * amplitude;
            d += `L${x},${y} `;
        }

        d += "L1440,320 L0,320 Z";
        frontPath.setAttribute("d", d);

        requestAnimationFrame(animateFrontWave);
    }

    animateBackWave();
    animateFrontWave();
  </script> -->

</body>
</html>
