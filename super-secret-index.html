<!DOCTYPE html>
<html>
<head>
    <title>Super Secret Login</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="scripts/boat.js" defer></script>
    <script src="scripts/bird.js" defer></script>
    <script src="scripts/auth.js" defer></script> <!--Move app.js into here!-->
    <script src="app.js" defer></script>

    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="image_src" href="https://lukeandkay.co.uk/assets/thumbnail.png">
    <link 
        href="https://fonts.googleapis.com/css2?family=Bellefair&family=Lexend:wght@100..900&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap" 
        rel="stylesheet" 
    \>
</head>
<body>
  <!-- <h2>Enter Your Wedding Pin</h2>
  <input id="password" placeholder="Your wedding pin" maxlength="6" />
  <button id="loginBtn">Login</button>
  <p id="error" style="color:red;"></p> -->




    <div class="background"></div>

    <div class="animation-container" id="animation-container">
        <img class="frame" src="assets/bird-frame-1.svg" style="display:none;">
        <img class="frame" src="assets/bird-frame-2.svg" style="display:none;">
        <img class="frame" src="assets/bird-frame-3.svg" style="display:none;">
        <img class="frame" src="assets/bird-frame-2.svg" style="display:none;">
    </div>

    <div class="wave-container">
        <svg
            class="wave-back-svg" 
            viewBox="0 0 1440 320" 
            preserveAspectRatio="none"
        >
            <path 
                id="waveBackPath" 
                fill="#054D6A" 
                d="M0,160 C360,240 1080,80 1440,160 L1440,320 L0,320 Z" 
            />
        </svg>
        <img src="assets/boat.svg" alt="Boat" class="boat" />
        <svg 
            class="wave-front-svg" 
            viewBox="0 0 1440 320" 
            preserveAspectRatio="none"
        >
            <path
                id="waveFrontPath" 
                fill="#0B5775" 
                d="M0,160 C360,240 1080,80 1440,160 L1440,320 L0,320 Z"
            />
        </svg>
    </div>

    <div class="save-the-date-container">
        <div class="announcement-text"><span>KAYLEIGH</span></div>
        <div class="announcement-ampersand"><span>&</span></div>
        <div class="announcement-text"><span>LUKE</span></div>
        <div class="announcement-subtext"><span>ARE GETTING MARRIED!</span></div>

        <div class="login-container">
            <div class="wedding-pin-login-title"><span>ENTER YOUR WEDDING PIN BELOW</span></div>
            <div id="pin-container" class="pin-container">
                <input type="text" placeholder="&#x2022" maxlength="1" class="pin-input" inputmode="numeric" pattern="[0-9]*" />
                <input type="text" placeholder="&#x2022" maxlength="1" class="pin-input" inputmode="numeric" pattern="[0-9]*" />
                <input type="text" placeholder="&#x2022" maxlength="1" class="pin-input" inputmode="numeric" pattern="[0-9]*" />
                <input type="text" placeholder="&#x2022" maxlength="1" class="pin-input" inputmode="numeric" pattern="[0-9]*" />
                <input type="text" placeholder="&#x2022" maxlength="1" class="pin-input" inputmode="numeric" pattern="[0-9]*" />
                <input type="text" placeholder="&#x2022" maxlength="1" class="pin-input" inputmode="numeric" pattern="[0-9]*" />
            </div>
            <div class="pin-action-container">
                <button class="pin-action-button paste-button" id="pasteButton">PASTE PIN</button>
                <button class="pin-action-button enter-button" id="loginButton">ENTER SITE</button>
            </div>
        </div>

        
          
    </div>

    <script>
        const inputs = document.querySelectorAll('.pin-input');
      
        inputs.forEach((input, index) => {
          input.addEventListener('input', () => {
            // Clean non-digit characters
            input.value = input.value.replace(/[^0-9]/g, '');
      
            if (input.value.length === 1 && index < inputs.length - 1) {
              inputs[index + 1].focus();
            }
          });
      
          input.addEventListener('keydown', (e) => {
            if (e.key === 'Backspace' && input.value === '' && index > 0) {
              inputs[index - 1].focus();
            }
          });
      
          input.addEventListener('paste', (e) => {
            e.preventDefault();
            const paste = (e.clipboardData || window.clipboardData).getData('text');
            const digits = paste.replace(/\D/g, '').slice(0, inputs.length);
            
            digits.split('').forEach((digit, i) => {
              inputs[index + i] ? inputs[index + i].value = digit : null;
            });
      
            // Focus the input after the last pasted digit, or the last input if full
            let nextIndex = index + digits.length;
            if (nextIndex > inputs.length - 1) nextIndex = inputs.length - 1;
            inputs[nextIndex].focus();
          });
        });
      
        // Optional: focus first input on page load
        inputs[0].focus();
    </script>
</body>
</html>